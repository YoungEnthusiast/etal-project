{% extends 'board.html' %}

{% block content %}
<div class=" app-content">
  <div class="side-app">
    <br>
    <div class="container content-area">
      <div class="horizontal-content">
        {% include '_alerts.html' %}
        <div class="main">

          <nav class="navbar">
            <div class="main-menu">
              <ul>
                <li><a class="h4" href="">All Questions</a></li>
              </ul>
            </div>
            <div class="user-menu">
              <ul>
                <li><a class="btn btn-sm btn-info" href="{% url 'new-question' %}">Ask a research question</a></li>
              </ul>
            </div>
          </nav>



          <div class="page question-page">

              <h2 class="question-title">{{question.title}}</h2>
              <p class="question-body">{{question.body}}</p>
              <span class="question-author">author: {{question.author.first_name}} {{question.author.last_name}}</span>

              <div class="responses-container">
                <h4 class="responses-container-heading">Responses</h4>

                {% if not question.responses.all %}
                  <p class="no-responses-text">No responses yet</p>
                {% else %}
                  {% for response in question.get_responses %}
                    {% include 'components/response.html' with response=response %}
                  {% endfor %}
                {% endif %}
              </div>

              {% if user.is_authenticated %}
              <form method="POST" action="" class="response-form">
              {% csrf_token %}
              <div class="fieldWrapper">
                <label for="{{response_form.body.id_for_label}}">Your answer:</label>
                {{response_form.body}}
              </div>
              <input type="submit" value="Send" class="submit-button"/>
              </form>
              {% endif %}

              </div>



        </div>

        </div>
      </div>
    </div>
  </div>
{% endblock %}
